<!doctype html>

<html lang="en">
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-JBQ1K9GXX0"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-JBQ1K9GXX0');
  </script>
  <meta charset="utf-8">
  <title>Bergen County, NJ COVID-19 Trend</title>
  <link rel="stylesheet" href="css/styles.css?v=1.0">
  <link rel="icon" type="image/svg+xml" href="img/fav.svg">
  <link rel="icon" type="image/png" href="img/fav.png">
  <script src="js/data.js"></script>
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://code.highcharts.com/modules/series-label.js"></script>
  <script src="https://code.highcharts.com/modules/exporting.js"></script>
  <script src="https://code.highcharts.com/modules/export-data.js"></script>
  <script src="https://code.highcharts.com/modules/accessibility.js"></script>
</head>

  <body>
    <figure class="highcharts-figure">
      <div id="container"></div>
    </figure>
    <script>
      for(var i = 0; i <= 1; i++){
        series[i]["data"] = series[i]["data"].map(point => [new Date(point[0]).getTime(), point[1]]);
      }
			Highcharts.chart('container', {
				chart: {
						type: 'spline'
				},
				title: {
						text: 'Bergen County, NJ COVID-19 Trend'
				},
				subtitle: {
						text: 'Data Supplied by https://github.com/nytimes/covid-19-data'
				},
				xAxis: {
						type: 'datetime',
						title: {
								text: 'Date'
						},
				},
				yAxis: {
						title: {
							text: 'Count'
						},
						min: 0
				},
				tooltip: {
						headerFormat: '<b>{series.name}</b><br>',
						pointFormat: '{point.x:%e. %b}: {point.y}'
				},

				plotOptions: {
						series: {
								marker: {
										enabled: true
								}
						}
				},

				colors: ['#6CF', '#39F', '#06C', '#036', '#000'],

				series: series,

				responsive: {
						rules: [{
								condition: {
										maxWidth: 500
								},
								chartOptions: {
										plotOptions: {
												series: {
														marker: {
																radius: 2.5
														}
												}
										}
								}
						}]
				}
		});
    </script>
  </body>
</html>
